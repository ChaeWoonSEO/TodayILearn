# SAP-C03 문답 - 2

### 21. 사용자 인증을 위한 AD 사용, AD를 사용하여 AWS Organizations 사용 회사의 AWS 계정 로그인, 온프렘 과 AWS 계정간 STS VPN 이미 존재, 사용자 그룹 및 역할에 따라 계정 조건부 액세스 필요, 사용자 ID 는 단일 위치에서 관리되어야함.
* **SAML2.0을 사용하여 AD 연결하도록 AWS SingleSignOn 구성** SCIMv2.0프로토콜 사용하여 자동 프로비저닝 활성화,ABAC 를 사용하여 AWS 계정의 대한 액세스 권한 부여.

### 22. APIGW,Labmbda,DynamoDB 사용하는 REST API,PUT 요청 중 오류 수 증가, 대부분 PUT 요청은 특정 API 키로 인증된 소수의 클라이언트에서 발생, PUT 요청이 한 클라이언트에서 발생, 클라이언트는 실패한 호출의 재시도를 허용가능, 오류가 고객에게 표시되어 API 평판 손상
* **APIGW 수준에서 사용량 계획을 통해 API 조절 구현**, 클라이언트 어플에서 코드 429 응답을 처리하는지 확인

### 23. 데이터 집약적인 앱 실행, 수백개의 EC2인스턴스로 구성된 클러스터에서 실행, 공유 파일 시스템은 200TB 데이터를 저장하는 여러 EC2에서도 실행, 앱은 공유 파일시스템의 데이터 읽고 수정하며 보고서 생성, 작업은 한달에 한번 실행, 공유 파일 시스템에서 파일의 하위 집합을 읽고 완료하는 데 72시간 소요, 인스턴스 ASG 확장, 공유 파일 시스템을 호스팅하는 인스턴스는 계속 실행되야함, 동일한 리전에 리소스 있음, 파일 시스템 인스턴스 교체 후 비용 감서, 72시간 실행기간 동안 필요한 데이터에 고성능 액세스 제공 해야함, 가장큰 비용 절감 효과 제공하는 솔루션.
* **S3IT 로 마이그레이션, 매월 작업 전 Lustre용 FSx 지연로딩 사용하여 S3 데이터로 새 파일 시스템 생성 작업기간동안 새 파일 시스템을 공유 스토리지로 사용 작업 완료시 파일 시스템 삭제**

### 24. 고정 TCP 사용하는 서비스 개발, 가용성 높고 영역 전체 중복성 있으며, 공개적으로 액세스 가능한 DNS 를 사용하여 액세스 할 수 있는지 확인해야함,허용 목록에 주소를 추가할 수 있도록 고정 주소 할당을 사용, 리소스가 단일 리전의 여러 가용영역에 배포된다고 가정할때 이러한 요구 사항을 충족하는 솔루션은 뭐여
* Ec2 생성해서 서비스 올려, **탄력적 Ip 생성해, NLB 할당해**, 할당된 TCP 포트 노출해, 대상그룹 생성하고 인스턴스 NLB 에 등록해, 새 도메인 별칭 레코드 만들고 레코드에 NLB 이름 할당해

### 25. 온프렘 분석 시스템 사용, 배치작업, 20분에서 2시간, SLA, 해당 작업은 사용량 65%, 사용자 작업 5분이내에 실행완료, 사용량 35%,오류 동안에 예약된 작업은 SLA 충족해야함,EC2 인스턴스로 마이그레이션,비용절감,고가용성 유지 및 SLA 영향 X
* 3개 가용영역, 총 12개 인스턴스 중 RI 인스턴스 3개, 스팟 인스턴스 1개 실행


**RI 와 스팟으로 사용량에 따라서 나누기.**

### 26. S3 파일에서 RDS Mysql 자격증명 검색한다. 이를 적용해야한다. 무작위 암호 사용,앱 리소스 CloudFormation 을 통해 배포,90일 마다 자격증명 교체, 앱 CloudFormation 템플릿으로 앱 배포,CF 템플릿은 최소 운영 
* AWS Secrets Manager Secret Resource 로 데이터베이스 암호 생성, 교체할 AWS Lambda 함수 리소스 생성, 90일마다 DB 암호 교체하도록 Secrets Manager RotationSchedule 리소스 지정

### 27. DynamoDB 테이블에 저장, 서버리스 아키텍쳐 사용하여 HTTPS통해 간단한 API를 통해 공개적으로 데이터에 액세스 가능, 수요에 따라 자동 확장,