# DI (Dependency Injection - 의존성 주입)

DI 를 다루기 전 의존 관계 가 무엇인지 부터 생각해보자 

## 의존관계란?
```
의존대상 B 가 변화하면, 그것이 A에 영향을 미칠때 A는 B와 의존관계 라고한다.
```
DI 를 사용하지 않을 시 객체와 객체가 서로 의존 관계를 맺게 되며 이렇게 될시
- 새로운 객체를 이용해야할 경우, 생성자를 바꿔야하며 지속적으로 바꿔야할 시 계속 생성자를 변경해한다.
- 인터페이스에 의존해야지 구체화에 의존하면 안된다. 해당 부분은 SOLID 원칙 DIP 원칙이며 의존 관계를 기존처럼 맺게 된다면 DIP 원칙을 어기게 된다.

이것들을 해결 할 수있는게 DI (의존관계 주입) 이다.


## DI 란

DI는 Interface를 통해 클래스 추상화를 이루고, 의존 관게를 외부에서 결정해주는 것을 말한다.

이러한 DI 를 수행해 주는것은 DI Container 라고 한다.

## DI 방법
DI 방법으론 생성자 주입, 수정자 주입이 있다. 

- 생성자 주입은 주입 받는 객체가 변하지 않거나, 반드시 객체의 주입이 필요한 경우 사용하게 된다.
- 수정자 주입은 주입 받는 객체가 변할 가능성이 있는 경우 사용하도록 한다.

> 하지만 객체의 의존관계가 변할 가능성은 거의 없다. 그렇기 떄문에 의존관계 가 변할 가능성이 없고 수정자로 의존관계를 주입 받을 필요가 없다면 수정의 가능성을 열지 않도록 생성자 주입을 통해 가능성을 배제하며 불변성을 보장하는것이 좋다.

## DI의 장점
1. 결합도가 증가한다.
   
   객체 구현 자체를 수정할 일이 없도록 만들기 때문에 결합도가 증가한다.

2. 유연성이 증가한다.

   의존하고 있는 객체를 바꾸기 위해 생성자 수정할 필요가 없으며, 인수만 바꿔주면 되기 떄문에 유연성이 증가한다.
3. 테스트하기 편하다.

   의존하고 있는 인터페이스가 어떤 클래스로 구현되어있는지 몰라도 되기 떄문에 테스트가 용이 해진다.

4. 가독성이 좋아진다.