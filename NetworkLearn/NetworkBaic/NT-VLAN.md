# VLAN
- 스위치 에서만 지원하는 기능으로 허브, 브리지, 라우터 에서는 지원하지 않는다.
- 한대의 스위치를 여러 개의 네트워크로 나누기 위해 사용된다.
  
- 논리적으로 분리된 IP 서브넷 처럼 동작하는것 처럼 보이는 LAN 이다.
- 다수의 IP네트워크와 섭넷 을 동일한 스위치드 네트워크 에 존재하도록 해줌 
- **브로드캐스트 도메인을 2계층 에서 분리** 하여 2계층 장비인 스위치를 3계층 처럼 사용합니다.

- **Data link 계층 상에서 논리적이고 유연한 망을 구성할 수 있는 가상 LAN**
```예를 들자, 집에 2개의 스위치가 있고 2개의 스위치가 각각의 컴퓨터들을 연결했다고하자. 이 2개의 스위치는 서로 연결되지 않았다고하자. 그럼 2개의 스위치의 컴퓨터들은 서로 통신할 방법이 없다. 이것이 물리적 lan 환경이다. 물리적으로 서로를 떨어트려 독립적인 네트워크를 구성한것이다.```

```Vlan 을 사용하지 않으면 한라우터에 여러대의 스위치를 달아야 하지만 가상랜 즉 vlan 을 사용하게 된다면 하나의 스위치로 마치 여러개의 스위치를 사용하는것 처럼 할수 있다.```
- 스태틱 VLAN
  - 일반적인 방식으로 스위치의 각 포트들을 원하는 VLAN 에 하나씩 배정하는것 
- 다이나믹 VLAN 
  - 포트별로 고정 VLAN 을 배정하는 것이 아니라 그 포트에 접속하는 장비의 맥어드레스를 보고 그에 따라 VLAN 을 배정하는것이다. 즉 포트의 VLAN 셋팅이 그떄 그떄 다른방법
- 트렁킹
  - 여러개의 VLAN 들을 실어 나르는것!
  - 원래는 VLAN 마다 VLAN 마다 링크를 만들어야하지만 하나로 줄여 여러 VLAN 이 다 이용할수 있다.
  - 그래서 VLAN 들은 자기가 어디 VLAN 인지 알리며 이동한다.
    - ISL 트렁킹 방식
      - 시스코에서 만든 트렁킹 프로토콜
    - IEEE802.1Q 트렁킹 방식
      - 트렁킹 표준 프로토콜
      - 네이티브 VLAN 이라는것이 있다
        - 이름표를 붙이지 않는것
        - Untagged 트레픽 이라고도 한다.
        - 모든 스위치 네트워크 에서 유일하게 한개의 VLAN 만 네이티브 VLAN 으로 세팅 가능 하다.
        - ISL 트렁킹엔 이런것이 없다.
- VTP
  - 시스코만이 프로토콜
  - VTP 기능이 없으면 VLAN 추가시 스위치 마다 VLAN 구성을 일일 이 변경해야한다.
  - VTP 기능이 있으면 스위치 중 하나를 VTP 서버로 선정해 VTP 서버에서 VLAN 정보를 설정하면 VTP 서버가 다른 스위치와의 트렁크 링크를 통해 자동으로 나머지 스위치들을 업데이트 한다.